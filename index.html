<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Alma - Coming Soon</title>
    <meta name="description" content="La première plateforme de réservation dédiée aux indépendants du secteur de la beauté.">
    
    <!-- Favicon (optionnel - vous pouvez ajouter votre propre icône plus tard) -->
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='0.9em' font-size='90'>✨</text></svg>">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Iconify Icons -->
    <script src="https://code.iconify.design/iconify-icon/1.0.7/iconify-icon.min.js"></script>
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@600&display=swap" rel="stylesheet">

    <style>
        /* Polices */
        .font-geist { font-family: 'Inter', sans-serif; }
        .font-space { font-family: 'Space Grotesk', sans-serif; }
        .font-poppins { font-family: 'Poppins', sans-serif; }

        /* Animation du brouillard (Fog) */
        @keyframes drift {
            0% { transform: translateX(0) translateY(0); opacity: 0.4; }
            50% { transform: translateX(-20px) translateY(-10px); opacity: 0.6; }
            100% { transform: translateX(0) translateY(0); opacity: 0.4; }
        }
        @keyframes drift-reverse {
            0% { transform: translateX(0) translateY(0); opacity: 0.3; }
            50% { transform: translateX(30px) translateY(15px); opacity: 0.5; }
            100% { transform: translateX(0) translateY(0); opacity: 0.3; }
        }

        .fog-layer-1 {
            animation: drift 20s ease-in-out infinite;
            background: radial-gradient(circle at 50% 50%, rgba(255, 255, 255, 0.08), transparent 60%);
        }
        .fog-layer-2 {
            animation: drift-reverse 25s ease-in-out infinite;
            background: radial-gradient(circle at 30% 70%, rgba(255, 255, 255, 0.05), transparent 50%);
        }

        /* Ken Burns effect */
        @keyframes kenBurns {
            0% { transform: scale(1) translate(0, 0); }
            33% { transform: scale(1.1) translate(-2%, -1%); }
            66% { transform: scale(1.05) translate(1%, -2%); }
            100% { transform: scale(1) translate(0, 0); }
        }

        .ken-burns {
            animation: kenBurns 30s ease-in-out infinite;
        }
        
        /* Animation de fade-in */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Animation d'apparition depuis le bas */
        @keyframes slideUp {
            from { opacity: 0; transform: translateY(40px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .animate-slide-up {
            opacity: 0;
            animation: slideUp 0.8s cubic-bezier(0.16, 1, 0.3, 1) forwards;
        }

        /* Texte doré brillant */
        @keyframes shine {
            0% { background-position: -200% center; }
            100% { background-position: 200% center; }
        }

        .text-gold-shine {
            background: linear-gradient(
                90deg,
                #C9A227 0%,
                #F4D03F 25%,
                #FFF8DC 50%,
                #F4D03F 75%,
                #C9A227 100%
            );
            background-size: 200% auto;
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
            animation: shine 4s linear infinite;
        }

        /* Icon gold shine */
        @keyframes iconShine {
            0%, 100% { color: #C9A227; }
            50% { color: #FFF8DC; }
        }

        .icon-gold-shine {
            animation: iconShine 3s ease-in-out infinite;
        }

        
        /* --- Styles des Modales (Popups) --- */
        
        /* Conteneur principal */
        .modal-container {
            visibility: hidden;
            transition: visibility 0s linear 0.3s;
        }
        
        /* Classe ajoutée via JS pour afficher la modale */
        .modal-container.active {
            visibility: visible;
            transition-delay: 0s;
        }

        /* Fond sombre (Backdrop) */
        .modal-backdrop {
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        .modal-container.active .modal-backdrop {
            opacity: 1;
        }

        /* Animation Mobile : Glissement vers le haut */
        .modal-content {
            transform: translateY(100%);
            transition: transform 0.4s cubic-bezier(0.32, 0.72, 0, 1), opacity 0.3s ease;
            opacity: 1;
        }
        .modal-container.active .modal-content {
            transform: translateY(0);
        }

        /* Animation Desktop : Zoom et Fondu */
        @media (min-width: 640px) {
            .modal-content {
                transform: scale(0.95);
                opacity: 0;
                transition: transform 0.3s cubic-bezier(0.16, 1, 0.3, 1), opacity 0.3s ease;
            }
            .modal-container.active .modal-content {
                transform: scale(1);
                opacity: 1;
            }
        }

        /* Masquer la barre de défilement */
        body::-webkit-scrollbar { display: none; }
        body { -ms-overflow-style: none; scrollbar-width: none; }
    </style>
</head>
<body class="bg-zinc-950 text-zinc-100 font-sans antialiased h-screen w-full overflow-hidden selection:bg-zinc-700 selection:text-zinc-200 relative">

    <!-- Image de fond -->
    <div class="absolute inset-0 z-0 overflow-hidden">
        <img src="https://images.unsplash.com/photo-1616394584738-fc6e612e71b9?q=80&w=2940&auto=format&fit=crop"
             alt="Background"
             class="w-full h-full object-cover opacity-40 grayscale contrast-125 ken-burns"
             loading="eager">
        <div class="absolute inset-0 bg-gradient-to-t from-zinc-950 via-zinc-950/60 to-zinc-950/30"></div>
    </div>

    <!-- Couches de brouillard -->
    <div class="absolute inset-0 z-10 pointer-events-none">
        <div class="fog-layer-1 absolute inset-0 w-[150%] h-[150%] -top-1/4 -left-1/4 blur-3xl"></div>
        <div class="fog-layer-2 absolute inset-0 w-[150%] h-[150%] -top-1/4 -left-1/4 blur-3xl"></div>
    </div>


    <!-- Navigation -->
    <nav class="z-30 flex w-full pt-8 pr-8 pb-8 pl-8 absolute top-0 left-0 items-center justify-between" style="animation: fadeIn 1s ease-out forwards;">
        <div class="flex gap-4">
            <a href="#" class="text-zinc-400 hover:text-zinc-200 transition-colors duration-300" aria-label="Instagram">
                <iconify-icon icon="mdi:instagram" width="22"></iconify-icon>
            </a>
        </div>
    </nav>

    <!-- Contenu Principal -->
    <main class="flex flex-col z-20 text-center h-full pr-4 pl-4 relative items-center justify-center">

        <!-- Badge -->
        <div class="animate-slide-up mb-6">
            <span class="inline-flex items-center gap-2 px-4 py-1.5 rounded-full bg-zinc-900/80 border border-zinc-800 text-xs font-medium text-zinc-400 font-geist backdrop-blur-sm">
                <span class="w-1.5 h-1.5 rounded-full animate-pulse" style="background: #F4D03F;"></span>
                Bientôt disponible
            </span>
        </div>

        <!-- Logo -->
        <div class="mb-6 relative group cursor-default animate-slide-up" style="animation-delay: 0.1s;">
            <h1 class="md:text-8xl lg:text-9xl text-6xl tracking-tighter drop-shadow-2xl font-poppins font-semibold text-gold-shine">
                alma
            </h1>
            <div class="absolute -inset-8 bg-white/5 blur-3xl rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-1000 pointer-events-none"></div>
        </div>

        <!-- Sous-titre -->
        <div class="max-w-lg mx-auto mb-12 animate-slide-up" style="animation-delay: 0.2s;">
            <p class="md:text-2xl text-xl font-medium text-zinc-200 tracking-tight font-geist mb-3">
                Augmentez votre visibilité.
            </p>
            <p class="md:text-base text-sm text-zinc-200 font-geist leading-relaxed">
                La première plateforme de réservation dédiée aux <span class="whitespace-nowrap">indépendants du secteur de la beauté.</span>
            </p>
        </div>

        <!-- Boutons d'action -->
        <div class="flex flex-col sm:flex-row gap-4 items-center justify-center w-full max-w-sm sm:max-w-none animate-slide-up" style="animation-delay: 0.35s;">
            <!-- Bouton Waitlist -->
            <button onclick="toggleModal('waitlist-modal')" class="group relative w-full sm:w-auto px-8 py-3 bg-zinc-200 text-black text-sm font-medium rounded-full overflow-hidden transition-all hover:bg-zinc-300 focus:ring-2 focus:ring-zinc-200 focus:ring-offset-2 focus:ring-offset-zinc-950">
                <div class="relative z-10 flex items-center justify-center gap-2 font-geist">
                    <span>Rejoindre la liste d'attente</span>
                    <iconify-icon icon="lucide:arrow-right" width="16" class="transition-transform group-hover:translate-x-1"></iconify-icon>
                </div>
            </button>

            <!-- Bouton Info -->
            <button onclick="toggleModal('info-modal')" class="group sm:w-auto hover:border-zinc-500 hover:text-zinc-200 transition-all focus:ring-2 focus:ring-zinc-700 focus:ring-offset-2 focus:ring-offset-zinc-950 text-sm font-medium text-zinc-300 bg-transparent w-full border-zinc-700 border rounded-full pt-3 pr-8 pb-3 pl-8 backdrop-blur-sm">
                <span class="flex items-center justify-center gap-2 font-geist">C'est quoi Alma ?</span>
            </button>
        </div>
    </main>

    <!-- 
    ===========================================
    MODALE 1 : WAITLIST (Inscription)
    ===========================================
    -->
    <div id="waitlist-modal" class="fixed inset-0 z-50 flex items-end sm:items-center justify-center modal-container pointer-events-none">
        
        <!-- Fond noir flouté -->
        <div onclick="toggleModal('waitlist-modal')" class="absolute inset-0 bg-black/60 backdrop-blur-md modal-backdrop pointer-events-auto"></div>
        
        <!-- Contenu de la modale -->
        <div class="relative w-full sm:w-auto max-w-md bg-zinc-900/70 border-t border-r border-l sm:border border-zinc-800 rounded-t-3xl sm:rounded-2xl p-8 shadow-2xl overflow-hidden ring-1 ring-white/10 modal-content pointer-events-auto pb-10 sm:pb-8">
            
            <!-- Bouton fermer -->
            <button onclick="toggleModal('waitlist-modal')" class="absolute top-5 right-5 text-zinc-500 hover:text-zinc-200 transition-colors p-1 z-10" aria-label="Fermer">
                <iconify-icon icon="lucide:x" width="20"></iconify-icon>
            </button>

            <div id="waitlist-header" class="mb-6">
                <div class="w-10 h-10 bg-amber-500/10 border border-amber-500/20 rounded-full flex items-center justify-center mb-4">
                    <iconify-icon icon="lucide:sparkles" width="20" class="icon-gold-shine"></iconify-icon>
                </div>
                <h3 class="text-2xl font-semibold text-white tracking-tight mb-2 font-geist">Soyez informé.e du lancement !</h3>
                <p class="text-base text-white font-geist">En nous rejoignant aujourd'hui, nous vous offrons 1 mois d'utilisation gratuite dès votre inscription.</p>
            </div>

            <!-- Formulaire -->
            <form id="waitlist-form" class="space-y-4" onsubmit="handleSubmit(event)">
                <div>
                    <label for="name" class="block text-xs font-medium text-zinc-400 mb-1.5 uppercase tracking-wider font-geist">Nom complet</label>
                    <input type="text" id="name" name="name" required placeholder="Prénom Nom" class="w-full bg-zinc-950/50 border border-[0.5px] border-zinc-800 rounded-lg px-4 py-3 text-sm text-zinc-200 placeholder-zinc-600 focus:outline-none focus:border-[0.5px] focus:border-amber-400 focus:ring-0 shadow-md transition-all font-geist">
                </div>
                <div>
                    <label for="email" class="block text-xs font-medium text-zinc-400 mb-1.5 uppercase tracking-wider font-geist">Adresse Email</label>
                    <input type="email" id="email" name="email" required placeholder="hello@exemple.com" class="w-full bg-zinc-950/50 border border-[0.5px] border-zinc-800 rounded-lg px-4 py-3 text-sm text-zinc-200 placeholder-zinc-600 focus:outline-none focus:border-[0.5px] focus:border-amber-400 focus:ring-0 shadow-md transition-all font-geist">
                </div>

                <div class="pt-2">
                    <button type="submit" class="w-full bg-zinc-200 hover:bg-zinc-300 text-black font-medium py-3 rounded-lg text-sm transition-colors flex items-center justify-center gap-2">
                        <span class="font-geist">S'inscrire</span>
                        <iconify-icon icon="lucide:arrow-right" width="14"></iconify-icon>
                    </button>
                </div>
            </form>

            <!-- Confirmation message (hidden by default) -->
            <div id="waitlist-success" class="hidden text-center py-8">
                <div class="w-14 h-14 bg-green-500/10 border border-green-500/20 rounded-full flex items-center justify-center mx-auto mb-4 text-green-400">
                    <iconify-icon icon="lucide:check" width="28"></iconify-icon>
                </div>
                <h3 class="text-xl font-semibold text-white mb-2 font-geist">Merci !</h3>
                <p class="text-base text-white font-geist">Vous êtes sur la liste d'attente.<br>Nous vous contacterons bientôt.</p>
            </div>

            <p id="waitlist-footer" class="mt-6 text-center text-xs text-zinc-400 font-geist">
                Rejoignez +100 professionnels sur liste d'attente.
            </p>
        </div>
    </div>

    <!-- 
    ===========================================
    MODALE 2 : INFO (C'est quoi Alma ?)
    ===========================================
    -->
    <div id="info-modal" class="fixed inset-0 z-50 flex items-end sm:items-center justify-center modal-container pointer-events-none">
        
        <!-- Fond noir flouté -->
        <div onclick="toggleModal('info-modal')" class="modal-backdrop pointer-events-auto bg-black/60 absolute inset-0 backdrop-blur-md"></div>
        
        <!-- Contenu de la modale -->
        <div class="relative w-full sm:w-auto max-w-lg bg-zinc-900/70 border-t border-r border-l sm:border border-zinc-800 rounded-t-3xl sm:rounded-2xl p-8 shadow-2xl ring-1 ring-white/10 modal-content pointer-events-auto pb-10 sm:pb-8">
            
            <!-- Bouton fermer -->
            <button onclick="toggleModal('info-modal')" class="absolute top-5 right-5 text-zinc-500 hover:text-zinc-200 transition-colors p-1 z-10" aria-label="Fermer">
                <iconify-icon icon="lucide:x" width="20"></iconify-icon>
            </button>

            <div class="mb-8 text-center sm:text-left">
                <h3 class="text-3xl mb-3 font-poppins font-semibold text-zinc-200">alma</h3>
                <p class="text-base text-zinc-400 font-geist leading-relaxed">Votre passion mérite une gestion professionnelle</p>
            </div>

            <div class="grid gap-4">
                <!-- Caractéristique 1 -->
                <div class="flex gap-4 p-3 rounded-xl bg-zinc-800/30 border border-zinc-800/50">
                    <div class="flex-shrink-0 w-10 h-10 rounded-full bg-amber-500/10 border border-amber-500/20 flex items-center justify-center text-amber-400">
                        <iconify-icon icon="lucide:calendar-check" width="18"></iconify-icon>
                    </div>
                    <div>
                        <h4 class="text-base font-semibold text-zinc-200 mb-1 font-geist">Site de réservation</h4>
                        <p class="text-sm text-zinc-500 leading-relaxed font-geist">
                            Créez votre site en 5 min et laissez vos clients réserver une prestation 24h/24
                        </p>
                    </div>
                </div>

                <!-- Caractéristique 2 -->
                <div class="flex gap-4 p-3 rounded-xl bg-zinc-800/30 border border-zinc-800/50">
                    <div class="flex-shrink-0 w-10 h-10 rounded-full bg-amber-500/10 border border-amber-500/20 flex items-center justify-center text-amber-400">
                        <iconify-icon icon="lucide:bar-chart-3" width="18"></iconify-icon>
                    </div>
                    <div>
                        <h4 class="text-base font-semibold text-zinc-200 mb-1 font-geist">Gestion de l'activité</h4>
                        <p class="text-sm text-zinc-500 leading-relaxed font-geist">
                            Suivez votre CA, vos meilleures prestations et vos clients fidèles pour prendre les bonnes décisions
                        </p>
                    </div>
                </div>

                <!-- Caractéristique 3 -->
                <div class="flex gap-4 p-3 rounded-xl bg-zinc-800/30 border border-zinc-800/50">
                    <div class="flex-shrink-0 w-10 h-10 rounded-full bg-amber-500/10 border border-amber-500/20 flex items-center justify-center text-amber-400">
                            <iconify-icon icon="mdi:piggy-bank" width="18"></iconify-icon>
                    </div>
                    <div>
                        <h4 class="text-base font-semibold text-zinc-200 mb-1 font-geist">Tarif accessible</h4>
                        <p class="text-sm text-zinc-500 leading-relaxed font-geist">
                            À partir de 19€/mois, jusqu'à 3x moins cher que les autres solutions du marché
                        </p>
                    </div>
                </div>
            </div>

            <div class="mt-8 pt-6 border-t border-zinc-800 flex justify-center sm:justify-start">
                <button onclick="toggleModal('info-modal'); setTimeout(() => toggleModal('waitlist-modal'), 300);" class="text-sm text-zinc-400 hover:text-zinc-200 transition-colors flex items-center gap-2 font-geist group">
                    Envie de nous rejoindre ?
                    <span class="text-amber-400 group-hover:text-amber-300 font-medium">Inscrivez-vous</span>
                    <iconify-icon icon="lucide:arrow-right" width="14" class="text-amber-400 group-hover:translate-x-1 transition-transform"></iconify-icon>
                </button>
            </div>
        </div>
    </div>

    <!-- Script de gestion des modales -->
    <script>
        function toggleModal(modalId) {
            const modal = document.getElementById(modalId);
            if (!modal) return;
            modal.classList.toggle('active');
        }

        // Fermer la modale avec la touche Echap
        document.addEventListener('keydown', function(event) {
            if (event.key === "Escape") {
                document.querySelectorAll('.modal-container.active').forEach(modal => {
                    modal.classList.remove('active');
                });
            }
        });

        // Gestion du formulaire
        async function handleSubmit(event) {
            event.preventDefault();

            const form = document.getElementById('waitlist-form');
            const successMsg = document.getElementById('waitlist-success');
            const footer = document.getElementById('waitlist-footer');
            const header = document.getElementById('waitlist-header');
            const submitBtn = form.querySelector('button[type="submit"]');
            const originalText = submitBtn.innerHTML;

            // Loading state
            submitBtn.disabled = true;
            submitBtn.innerHTML = '<span class="font-geist">Envoi en cours...</span>';

            const formData = new FormData(form);
            const name = formData.get('name');
            const email = formData.get('email');

            try {
                const response = await fetch('/api/waitlist', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ name, email })
                });

                if (response.ok) {
                    // Show success message
                    header.classList.add('hidden');
                    form.classList.add('hidden');
                    footer.classList.add('hidden');
                    successMsg.classList.remove('hidden');

                    // Close modal after 3 seconds
                    setTimeout(() => {
                        toggleModal('waitlist-modal');
                        // Reset form and UI after modal closes
                        setTimeout(() => {
                            form.reset();
                            header.classList.remove('hidden');
                            form.classList.remove('hidden');
                            footer.classList.remove('hidden');
                            successMsg.classList.add('hidden');
                            submitBtn.disabled = false;
                            submitBtn.innerHTML = originalText;
                        }, 300);
                    }, 3000);
                } else {
                    const data = await response.json();
                    alert(data.error || 'Une erreur est survenue. Veuillez réessayer.');
                    submitBtn.disabled = false;
                    submitBtn.innerHTML = originalText;
                }
            } catch (error) {
                console.error('Error:', error);
                alert('Une erreur est survenue. Veuillez réessayer.');
                submitBtn.disabled = false;
                submitBtn.innerHTML = originalText;
            }
        }
    </script>

</body>
</html>
